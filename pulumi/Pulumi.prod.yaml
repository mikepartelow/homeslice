encryptionsalt: v1:VKuGdX6V+cI=:v1:NjPNhDyrBhgOUzh7:ZORqZH2ALQT0/D+qYIhNJOAoCraRjw==
config:
  homeslice:backup_todoist:
    git_author_email: github@mikepartelow.com
    git_author_name: Mike Partelow
    ssh_known_hosts_path_env_var_name: SSH_KNOWN_HOSTS
    image: ghcr.io/mikepartelow/homeslice/backup-todoist:main.20251014-051038.185c95c@sha256:8f22401bd2ae7fbba98e77af0bd50ae06e597a3aa85d8fd8a60f9c9eaf277cef
    schedule: 0 0 * * *
  homeslice:buttons:
    clocktime_url: http://clocktime.homeslice.svc.cluster.local/api/v0/clocktime/
    container_port: 8000
    image: ghcr.io/mikepartelow/homeslice/buttons:main.20251014-051023.185c95c@sha256:a6158f2ac9caeb044a92e58be92afb7cd56328b8d20335f86d900971ddcb6cff
    ingress_prefixes:
      - /api/v0/buttons/
      - /api/v0/buttontimes/
  homeslice:chime:
    chimes:
      - media_title: every day
        media_uri: http://{{ingress}}/api/v0/chime/swed.mp3
        schedule: 20 16 * * *
    container_port: 80
    image: ghcr.io/mikepartelow/homeslice/chime:main.20251014-050954.185c95c@sha256:96d8bc194792bdc6fccc370f01d5e5696ecdd51573f46ae9418dcbc75a3f634b
    ingress_prefix: /(api/v0/chime/)(.*)$
    nginx: nginx:1.25
    pvc_mount_path: /usr/share/nginx/html
  homeslice:clocktime:
    container_port: 8000
    image: ghcr.io/mikepartelow/homeslice/clocktime:main.20251014-051024.185c95c@sha256:b60420c747ea2d56090ab834048e45c944d51a1dc7c11941af75e0bfa8cf9a23
    ingress_prefix: /api/v0/clocktime/
    location: America/Los_Angeles
  homeslice:flyte:
    namespace: flyte
    # based off https://github.com/davidmirror-ops/flyte-the-hard-way/blob/main/docs/on-premises/single-node/002-single-node-onprem-install.md
    secret-name: flyte-binary-inline-config-secret
    charts:
      - name: postgres
        version: 16.6.6
        chart: oci://registry-1.docker.io/bitnamicharts/postgresql
        values:
          fullnameOverride: postgres
          auth:
            postgresPassword: "%DB_PASSWORD%"
            username: flyte
            password: "%DB_PASSWORD%"
            database: flyte
      - name: minio
        version: 16.0.8
        chart: oci://registry-1.docker.io/bitnamicharts/minio
        values:
          auth:
            rootUser: minio
            rootPassword: "%MINIO_PASSWORD%"
          defaultBuckets: flyte
      - name: flyte
        chart: flyte-binary
        version: v1.15.3
        repo: https://flyteorg.github.io/flyte
        values-resource: onprem-flyte-binary-values.yaml
  homeslice:lmz:
    image: ghcr.io/mikepartelow/homeslice/pylmz:main.20251014-051003.185c95c@sha256:c75f3b01ba6774de0668b2a1dc8c9b095d8b2a8ab3c095f3100038f8d34d1774
    container_port: 8000
    ingress_prefix: /(api/v0/lmz)/(.*)$
    installation_key_json_path: /home/nonroot/.config/pylmz/installation_key/installation_key.json
    creds_txt_path: /home/nonroot/.config/pylmz/creds/creds.txt
  # homeslice:observability:
  #   hostname: moe.localdomain
  #   namespace: observability
  #   grafana_chart_version: "8.3.2"
  #   grafana_ingress_prefix: /grafana
  #   loki_chart_version: "6.6.5"
  #   loki_datasource: http://loki-gateway.observability.svc.cluster.local/
  #   loki_push_url: http://loki-gateway.observability.svc.cluster.local/loki/api/v1/push
  #   prometheus_chart_version: "25.22.0"
  #   prometheus_ingress_prefix: /prometheus
  #   prometheus_datasource: http://prometheus-server.observability.svc.cluster.local
  #   promtail_chart_version: "6.16.3"
  homeslice:namespace: homeslice
  homeslice:sonos:
    image: ghcr.io/mikepartelow/homeslice/gosonos:main.20251014-051025.185c95c@sha256:64240f04e470ffe7b3fcdb38af9e4d0c182d14e80afcd4f9c3d3c6f47ee0e4c6
    container_port: 8000
    config_path: /etc/sonos/config.yaml
    ingress_prefix: /(api/v0/sonos/)(.*)$
    volume: 20
  homeslice:switches:
    container_port: 8000
    image: ghcr.io/mikepartelow/homeslice/switches:main.20251014-051032.185c95c@sha256:b3f010cc9bb92b48994fe11592bd9cbb3a86b627e069adbae3b3b91b6f4480d4
    ingress_prefix: /api/v0/switches/
    switches_json: |
      [
        {
          "id": "switch0",
          "kind": "kasa/v1",
          "name": "Living Room Torch",
          "address": "{{Living Room Torch}}",
          "port": 49154
        },
        {
          "id": "kbulb0",
          "kind": "kasa/v1",
          "name": "Captain's Quarters",
          "address": "{{Captain's Quarters}}"
        }
      ]
    switches_json_path: /var/run/switches.json
  kubernetes:context: moe
  homeslice:homebridge:
    image: ghcr.io/homebridge/homebridge:2024-05-02@sha256:c13910618a3dbe6ed1afd01def54f800a10228ca1a6e540bb302ab56762fbd66
    redirect_host: moe.localdomain
    redirect_prefix: /homebridge
    node_selector:
      "homeslice/homebridge": "true"
  homeslice:unifi:
    image: ghcr.io/mikepartelow/homeslice/backup-unifi:main.20251014-050957.185c95c@sha256:8e1b81d05a3d622a50bd69742015317385b12fa30e853edfa08a2f625869cc1c
    redirect_prefix: /unifi
    redirect_url: https://moe.localdomain:8443
    node_selector:
      "homeslice/unifi": "true"
    schedule: 0 0 * * *
    git_author_email: github@mikepartelow.com
    git_author_name: Mike Partelow
